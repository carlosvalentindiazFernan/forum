<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/paper-input/paper-input.html">

<dom-module id="question-add-dialog">

  <template>
    <paper-button raised on-click="_openDialog">Nuevo foro</paper-button>

    <paper-dialog id="dialog">
      <h2>Agrega un foro</h2>

      <paper-input label="Titulo" value="{{title}}"></paper-input>
      <paper-input label="á¹”regunta" value="{{question}}"></paper-input>

  	  <div class="buttons">
  	    <paper-button dialog-dismiss>Decline</paper-button>
  	    <paper-button dialog-confirm autofocus on-tap="_saveQuestion">Accept</paper-button>
  	  </div>

  	</paper-dialog>


  </template>

  <script>
  (function dialog() {
    'use strict';
    class DomElement extends Polymer.Element {

      static get is() { return "question-add-dialog"; }

      static get properties(){
        return {

          title:{
            type: String,
            value:'Nuevo Titulo'
          },

          question:{
            type: String,
            value:'Nueva Pregunta'
          }
        };
      }

      _openDialog(event){
        this.$.dialog.open();
      }

      _saveQuestion(e){
        console.log(`boton guardar presionado`)
        this.dispatchEvent(new CustomEvent(`on-forum-add-click`,
          {bubble:true, composed:true, detail: {forum: {title: this.title, question:this.question, answers:[]}}}));
      }

      _cleanInputs(){
        console.log("cleaned");
      }
    }
    customElements.define(DomElement.is, DomElement);

  })();

  </script>

</dom-module>
